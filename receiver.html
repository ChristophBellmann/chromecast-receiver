<!DOCTYPE html><html><head><meta charset="utf-8">
  <title>Castâ€¯v4.6</title>
  <script src="https://www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
  <style>:root{--a:#0af}*{margin:0;box-sizing:border-box}html,body{height:100%;background:#000;font-family:system-ui,sans-serif;overflow:hidden}
  #pre,#box,#splash{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  #pre{flex-direction:column;z-index:30;transition:.1s}
  #ver{color:#fff;font-size:2.3em;font-weight:600;opacity:0;transition:.1s}
  #wrap{display:none;opacity:0;transition:.1s}
  #wrap canvas{width:60vmin;height:60vmin}
  #splash{display:none;opacity:0;transition:.2s;z-index:0}
  #splash img{width:100%;height:100%;object-fit:cover}
  #box{z-index:10;flex-direction:column}
  #panel{background:rgba(34,34,34,.85);border:4px solid var(--a);border-radius:16px;padding:2em 3em;color:#fff;min-width:50vw;text-align:center}
  #menu{position:absolute;top:1em;left:50%;transform:translateX(-50%);display:flex;gap:.7em;background:rgba(0,0,0,.6);padding:.7em 1.1em;border-radius:10px;z-index:20}
  #menu button{background:#fff;border:none;border-radius:8px;padding:.55em 1.4em;font-size:1em;transition:.15s}
  #menu button.sel{outline:3px solid var(--a)}#menu button.pressed{transform:scale(.9)}
  </style></head><body tabindex="0">
  <div id="pre"><div id="ver">v4.6</div><div id="wrap"><canvas id="w"></canvas></div></div>
  <div id="splash"><img src="https://christophbellmann.github.io/my-cast-receiver/splash-0.1.png"></div>
  <div id="box"><div id="menu"><button id="b0">Stream</button><button id="b1">Info</button><button id="b2">Uhrzeit</button></div><div id="panel"></div></div>
  <script>
  const $=q=>document.querySelector(q),slp=t=>new Promise(r=>setTimeout(r,t)),
  fIn=async e=>{e.style.display='flex';e.style.opacity=0;await slp(10);e.style.opacity=1;await slp(100)},
  fOut=async e=>{e.style.opacity=0;await slp(100);e.style.display='none'},
  ver=$("#ver"),pre=$("#pre"),wrap=$("#wrap"),w=$("#w"),ctx=w.getContext("2d"),spl=$("#splash"),pan=$("#panel"),
  btns=[...document.querySelectorAll("#menu button")];let sel=0,timer=null;
  pan.innerHTML="<h1>HiÂ LindaÂ ðŸŽµ</h1><p>LiebeÂ GrÃ¼ÃŸe</p>";
  /* wheel */
  const HOL=12,ROT=15,h=[];function sz(){w.width=w.clientWidth;w.height=w.clientHeight;
   const r=Math.min(w.width,w.height)*.3,cx=w.width/2,cy=w.height/2;h.length=0;
   for(let i=0;i<HOL;i++){const t=i/HOL*2*Math.PI,rr=r*(.2+.05*Math.random()),x=cx+Math.cos(t)*r*.6,y=cy+Math.sin(t)*r*.6;h.push([x,y,rr])}}let a=0,l=0;
  function draw(t){if(!draw.on)return;l=l||t;a+=(t-l)/1e3*2*Math.PI/ROT;a%=2*Math.PI;l=t;
   ctx.clearRect(0,0,w.width,w.height);const r=Math.min(w.width,w.height)*.3,cx=w.width/2,cy=w.height/2;
   ctx.save();ctx.translate(cx,cy);ctx.rotate(a);ctx.translate(-cx,-cy);
   ctx.beginPath();ctx.arc(cx,cy,r,0,7);ctx.fillStyle="#2277cc";ctx.fill();ctx.lineWidth=r*.05;ctx.strokeStyle="#1155aa";ctx.stroke();
   ctx.fillStyle="#114477";h.forEach(o=>{ctx.beginPath();ctx.arc(...o,0,7);ctx.fill()});ctx.restore();requestAnimationFrame(draw)}
  /* helpers */
  function selBtn(i){btns[sel].classList.remove("sel");sel=(i+btns.length)%btns.length;btns[sel].classList.add("sel")}
  function press(b){b.classList.add("pressed");setTimeout(()=>b.classList.remove("pressed"),150)}
  function info(){pan.innerHTML="<h1>HiÂ LindaÂ ðŸŽµ</h1><p>LiebeÂ GrÃ¼ÃŸe</p>";clearInterval(timer)}
  function clock(){const d=new Date();pan.innerHTML=`<h1>${d.toLocaleTimeString()}</h1><p>${d.toLocaleDateString()}</p>`}
  /* actions */
  btns[0].onclick=()=>{press(btns[0]);spl.style.display="none";bus.send({type:"start"})};
  btns[1].onclick=()=>{press(btns[1]);info()};
  btns[2].onclick=()=>{press(btns[2]);clock();clearInterval(timer);timer=setInterval(clock,1e3)};
  window.onkeydown=e=>{const k=e.key;/Left|Up/.test(k)&&selBtn(sel-1);/Right|Down/.test(k)&&selBtn(sel+1);/Enter|OK/.test(k)&&btns[sel].click()};
  window.onresize=sz;
  /* intro */
  window.onload=async()=>{document.body.focus();selBtn(1);
   await fIn(ver);await slp(900);await fOut(ver);await slp(200);
   wrap.style.display='flex';sz();draw.on=true;await fIn(wrap);await slp(1000);await fOut(wrap);draw.on=false;
   pre.style.display='none';await fIn(spl)};
  /* cast */
  const ctxCast=cast.framework.CastReceiverContext.getInstance();
  ctxCast.getPlayerManager().setPlaybackConfig({autoResumeNumberOfSegments:1});
  ctxCast.start();const bus=ctxCast.getCastMessageBus("urn:x-cast:com.example.stream");
  </script></body></html>
  
